

/* reference dimension */

/* --ytd-watch-flexy-panel-max-height: 549px */

/*
ytd-watch-flexy {
    --ytd-watch-flexy-sidebar-width: 402px;
    --ytd-watch-flexy-sidebar-min-width: 300px;
    --ytd-watch-flexy-masthead-height: 56px;
    min-width: 0;
}
ytd-watch-flexy[flexy] {
    --ytd-watch-flexy-width-ratio: 16;
    --ytd-watch-flexy-height-ratio: 9;
    --ytd-watch-flexy-space-below-player: 136px;
    --ytd-watch-flexy-non-player-height: calc( var(--ytd-watch-flexy-masthead-height) + var(--ytd-margin-6x) + var(--ytd-watch-flexy-space-below-player) );
    --ytd-watch-flexy-non-player-width: calc( var(--ytd-watch-flexy-sidebar-width) + (3 * var(--ytd-margin-6x)) );
    --ytd-watch-flexy-min-player-height: 240px;
    --ytd-watch-flexy-min-player-width: calc( var(--ytd-watch-flexy-min-player-height) * (var(--ytd-watch-flexy-width-ratio) / var(--ytd-watch-flexy-height-ratio)) );
    --ytd-watch-flexy-max-player-height: calc( 100vh - ( var(--ytd-watch-flexy-masthead-height) + var(--ytd-margin-6x) + var(--ytd-watch-flexy-space-below-player) ) );
    --ytd-watch-flexy-max-player-width: calc( ( 100vh - ( var(--ytd-watch-flexy-masthead-height) + var(--ytd-margin-6x) + var(--ytd-watch-flexy-space-below-player) ) ) * (var(--ytd-watch-flexy-width-ratio) / var(--ytd-watch-flexy-height-ratio)) );
}
*/

/*
html:not(.style-scope) {
    --ytd-grid-base: 103px;
    --ytd-margin-base: 4px;
    --ytd-avatar-size: 32px;
    --ytd-toolbar-height: 56px;
    --ytd-margin-2x: 8px;
    --ytd-margin-3x: 12px;
    --ytd-margin-4x: 16px;
    --ytd-margin-5x: 20px;
    --ytd-margin-6x: 24px;
    --ytd-margin-7x: 28px;
    --ytd-margin-8x: 32px;
    --ytd-margin-9x: 36px;
    --ytd-margin-10x: 40px;
    --ytd-margin-11x: 44px;
    --ytd-margin-12x: 48px;
    --ytd-margin-14x: 56px;
    --ytd-margin-16x: 64px;
    --ytd-margin-17x: 68px;
    --ytd-margin-24x: 96px;
    --ytd-margin-25x: 100px;
    --ytd-margin-35x: 140px;
    --ytd-neg-margin-base: -4px;
    --ytd-neg-margin-2x: -8px;
    --ytd-neg-margin-3x: -12px;
    --ytd-neg-margin-4x: -16px;
    --ytd-neg-margin-5x: -20px;
    --ytd-neg-margin-6x: -24px;
    --ytd-neg-margin-7x: -28px;
    --ytd-neg-margin-8x: -32px;
    --ytd-neg-margin-10x: -40px;
    --ytd-neg-margin-11x: -44px;
    --ytd-neg-margin-12x: -48px;
    --ytd-neg-margin-14x: -56px;
    --ytd-neg-margin-16x: -64px;
    --ytd-neg-margin-24x: -96px;
    --ytd-neg-margin-25x: -100px;
    --ytd-grid-1x1_-_height: 103px;
    --ytd-grid-1x1_-_width: 103px;

    */




    ytd-watch-flexy{

        --tabview-youtube-tabbtn-height: 46px;
    
        --tabview-ytd-toggle-button-height: 32px;
    
    /* custom size for meta-contents */
        --meta-contents-default-height-outer: 30px;
        --userscript-meta-default-outline-thickness: 1px;
        --meta-contents-padding-vertical: 4px;
        --meta-contents-default-height-inner:calc(var(--meta-contents-default-height-outer) - var(--meta-contents-padding-vertical) * 2);
    
    /* recalculation of right-tab height */
        --userscript-top-bar-height: var(--ytd-masthead-height, var(--ytd-toolbar-height));
        --userscript-below-height: calc(100vh - var(--userscript-top-bar-height) - var(--ytd-watch-flexy-panel-max-height) );
        --userscript-h1:calc(var(--ytd-watch-flexy-panel-max-height) + var(--userscript-below-height));
        --userscript-h-tab-btn:var(--tabview-youtube-tabbtn-height);
        --userscript-h2:calc(var(--userscript-h1) - var(--userscript-h-tab-btn) - var(--ytd-margin-6x));
        --userscript-base-height: calc(var(--userscript-h2) - var(--ytd-margin-6x));

        --userscript-zoom-info: var(--ut2257-info, 1.00);
        --userscript-zoom-comments: var(--ut2257-comments, 1.00);
        --userscript-zoom-videos: var(--ut2257-videos, 1.00);
        --userscript-zoom-list: var(--ut2257-list, 1.00);

        
    
    }
    
    
      
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    .font-size-right{
        display: inline-flex;
        flex-direction: column;
        position: absolute;
        right:0;
        top:0;
        bottom:0;
        width:16px;
        padding:4px 0;
        justify-content: space-evenly;
        align-content: space-evenly;
    } 

    html body ytd-watch-flexy.style-scope .font-size-btn{
        user-select: none !important;
    }
    
    .tab-btn .font-size-btn {
        display: none;
    }
    .tab-btn.active:hover .font-size-btn {
        display: inline-block;
    }

    .font-size-btn {
        width: 12px;
        height: 12px;
        color: var(--yt-spec-text-secondary);
        background-color: var(--yt-spec-badge-chip-background);
        box-sizing: border-box;
        cursor: pointer;
        transform-origin: left top;
        margin:0;
        padding: 0;
        position:relative;
        display: inline-block;
        font-family: 'Menlo', 'Lucida Console', 'Monaco', 'Consolas', monospace;
        line-height: 100%;
        font-weight: 900;
        transition: background-color 90ms linear, color 90ms linear;
      }
      
      .font-size-btn:hover {
        background-color: var(--yt-spec-text-primary);
        color: var(--yt-spec-general-background-a);
      }


    
    
    /* align scrollbar style */
    [userscript-scrollbar-render]::-webkit-scrollbar {
        width: 16px;
    }
    [userscript-scrollbar-render]::-webkit-scrollbar-thumb {
        height: 56px;
        border-radius: 8px;
        border: 4px solid transparent;
        background-clip: content-box;
        background-color: var(--yt-spec-text-secondary);
    }
    /* Colorize the scroll bar (chrome, safari, edge) */
    [userscript-scrollbar-render]::-webkit-scrollbar-thumb {
        background-color: var(--paper-checkbox-unchecked-color) !important;
    }
    [userscript-scrollbar-render]::-webkit-scrollbar-thumb:hover {
        background-color: var(--paper-checkbox-checked-color) !important;
    }
    [userscript-scrollbar-render]::-webkit-scrollbar-corner {
        background-color: transparent;
    }
    
    
    
    
    /* align scrollbar style */
    [userscript-scrollbar-render] > *:only-child::-webkit-scrollbar {
        width: 16px;
    }
    [userscript-scrollbar-render] > *:only-child::-webkit-scrollbar-thumb {
        height: 56px;
        border-radius: 8px;
        border: 4px solid transparent;
        background-clip: content-box;
        background-color: var(--yt-spec-text-secondary);
    }
    /* Colorize the scroll bar (chrome, safari, edge) */
    [userscript-scrollbar-render] > *:only-child::-webkit-scrollbar-thumb{
        background-color: var(--paper-checkbox-unchecked-color) !important;
    }
    [userscript-scrollbar-render] > *:only-child::-webkit-scrollbar-thumb:hover{
        background-color: var(--paper-checkbox-checked-color) !important;
    }
    
    [userscript-scrollbar-render] > *:only-child::-webkit-scrollbar-corner {
        background-color: transparent;
    }
    
    
    
    
    /*   == for Teaser UI ==  */

    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy{
        flex-shrink: 0;
    }
    
    /* align scrollbar style */
    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy::-webkit-scrollbar {
        width: 16px;
    }
    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy::-webkit-scrollbar-thumb {
        height: 56px;
        border-radius: 8px;
        border: 4px solid transparent;
        background-clip: content-box;
        background-color: var(--yt-spec-text-secondary);
    }
    /* Colorize the scroll bar (chrome, safari, edge) */
    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy::-webkit-scrollbar-thumb{
        background-color: var(--paper-checkbox-unchecked-color) !important;
    }
    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy::-webkit-scrollbar-thumb:hover{
        background-color: var(--paper-checkbox-checked-color) !important;
    }
    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy::-webkit-scrollbar-corner {
        background-color: transparent;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    /* Global */
    
    
    #columns > yt-img-shadow, #columns > img{
        position: absolute;
        z-index: -1;
        visibility: collapse;
        contain: strict;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    ytd-watch-flexy #right-tabs{
        display: block;
        padding: 0;
        margin: 0;
    }
    
    
    
    
    body ytd-sentiment-bar-renderer{
        padding-top: 2px;
        padding-bottom: 0;
    }
    
    
    
    
    
    
    
    
    /* removed the old info styling since 2022/11/06 */

    /*
    
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents{
        margin-left: calc(5% + var(--userscript-meta-default-outline-thickness));
        margin-right: calc(5% + var(--userscript-meta-default-outline-thickness));
        width: calc(90% - var(--userscript-meta-default-outline-thickness) * 2);
    
        --box-shadow-thickness-1: var(--userscript-meta-default-outline-thickness);
        --box-shadow-thickness-2: var(--box-shadow-thickness-1) var(--box-shadow-thickness-1);
        box-shadow:0 0 var(--box-shadow-thickness-2) var(--ytd-searchbox-border-color, rgba(0,0,0,0.22));
    
    }
     
    
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents{
        --border-radius-2t: var(--border-radius-1t) var(--border-radius-1t);
        --border-radius-2b: var(--border-radius-1b) var(--border-radius-1b);
    }
    
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents:not(:hover){
        --border-radius-1t: var(--ytd-margin-2x);
        --border-radius-1b: calc(var(--border-radius-1t)*0.6);
    }
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents:hover{
        --border-radius-1t: var(--ytd-margin-3x);
        --border-radius-1b: calc(var(--border-radius-1t)*0.6);
    }
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents:hover::before{
        content: "\00a0";
        display: block;
        position: absolute;
        left: -18px;
        right: -18px;
        top: -12px;
        bottom: 0px;
        background-color: inherit;
        border-radius: inherit;
        opacity: 0;
        z-index: -1;
    }
    ytd-watch-flexy[flexy][is-two-columns_] #primary #info ~ #meta #meta-contents{
        border-radius: var(--border-radius-2t) var(--border-radius-2b);
    }
    ytd-watch-flexy[flexy]:not([is-two-columns_]) #primary #info ~ #meta #meta-contents{
        border-radius: var(--border-radius-2t) var(--border-radius-2b);
    }
    ytd-watch-flexy[flexy] #primary #info ~ #meta #meta-contents:not(:hover){
        height: calc(var(--meta-contents-default-height-outer)); 
        overflow: hidden;
    }
    
    
    
    // ytd-watch-flexy #primary #info ~ #meta 
    
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents{
        position: absolute;
        bottom: 0;
        width: 100%;
        box-sizing: border-box;
        border:1px solid transparent;
        border-color: var(--ytd-searchbox-legacy-button-focus-color);
        color:var(--yt-spec-text-primary);
        text-transform: var(--yt-button-text-transform, inherit);
        background-color: var(--yt-spec-general-background-b);
        opacity: 1; 
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:hover ytd-video-secondary-info-renderer{
        padding: 0 var(--ytd-margin-6x);
    }
    ytd-watch-flexy #primary #info ~ #meta #meta-contents ytd-video-secondary-info-renderer{
        border-bottom: 0;
        padding: 0;
        margin: 0;
    }
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover){
        height: auto;
        padding: 0;
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) *{
        padding: 0;
        margin: 0;
        vertical-align: middle;
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) #top-row{
        padding: var(--meta-contents-padding-vertical);  
        
        // just ensure nowrap for (non-hover meta-content)'s flex layout 
        flex-wrap: nowrap;
        zoom: 0.95;
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) #top-row ytd-video-owner-renderer > *{
        align-self: center;
    }
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) yt-icon-button#button{
        --yt-button-icon-size: var(--meta-contents-default-height-inner);
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) yt-img-shadow#avatar{
        height: var(--meta-contents-default-height-inner);
        width: var(--meta-contents-default-height-inner);
        margin: 0px var(--ytd-margin-2x);
        vertical-align: middle;
    }
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) ytd-subscribe-button-renderer{
        align-items: center;
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) yt-img-shadow#avatar:not([loaded]){
        opacity: 0;
    }
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) yt-img-shadow#avatar img{
        height: var(--meta-contents-default-height-inner);
        width: var(--meta-contents-default-height-inner);
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents yt-img-shadow#avatar[loaded]{
        box-shadow:0 0px 2px 2px var(--ytd-searchbox-border-color, rgba(0,0,0,0.22))
    }
    
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) #owner-sub-count{
        display: none;
    }
    
    // show button with smaller size (non-hover meta-content) -> (badge icon) 
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) tp-yt-paper-button{
        height: calc( var(--meta-contents-default-height-inner) );
        margin: 0px var(--ytd-margin-2x);
        padding: 10px 0;
        zoom: 0.9;
    }
    // margin for (non-hover meta-content) -> (badge icon)
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) ytd-badge-supported-renderer{
        margin: 0px var(--ytd-margin-2x);
    }
    // vertical center for (non-hover meta-content)'s (button text) 
    ytd-watch-flexy #primary #info ~ #meta #meta-contents:not(:hover) tp-yt-paper-button yt-formatted-string{
        line-height: 100%;
    }

    
    ytd-watch-flexy[flexy] #primary #info > #info-contents > ytd-video-primary-info-renderer {
       border-bottom-color: transparent;
    }
    
    ytd-watch-flexy[flexy] #primary #info ~ #meta{
        position: relative;
        height: calc(var(--meta-contents-default-height-outer)); 
        min-height: calc(var(--meta-contents-default-height-outer));  // under flex 
    }
    
    ytd-watch-flexy #primary #info ~ #meta ytd-expander{
        display: none;
    }


    */
    
    ytd-watch-flexy[is-two-columns_] #chat.ytd-watch-flexy,
    ytd-watch-flexy:not([is-two-columns_]) #chat.ytd-watch-flexy{
        margin-bottom: 0;
    }
    
    ytd-watch-flexy[is-two-columns_][userscript-chatblock] #right-tabs,
    ytd-watch-flexy:not([is-two-columns_]) #right-tabs{
        margin-top: var(--ytd-margin-2x);
    }

    
    #right-tabs #material-tabs{
        position: relative;
        display: flex;
        padding: 0; 
        /*outline: 1px solid var(--userscript-border-color);*/
        outline: 1px solid var(--ytd-searchbox-legacy-border-color);
    }
/*
    ytd-watch-flexy[flexy]:not([is-two-columns_]) #right-tabs[userscript-sticky] #material-tabs{
        outline:0;
    }    */
    
    ytd-watch-flexy[flexy]:not([is-two-columns_]) #right-tabs #material-tabs{
        outline:0;
    }   

    #right-tabs{
        /*--userscript-border-color: var(--yt-spec-10-percent-layer);*/
    }
     
    
    
    /* give background color; otherwise it will be transparent in dark mode, single column*/
    ytd-watch-flexy #right-tabs .tab-btn{
        background:var(--yt-spec-general-background-a);
    }
    
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content]{
        flex: 1;
        position: relative;
        display: inline-block;
        text-decoration: none;
        text-transform: uppercase;
        color:var(--yt-spec-text-secondary);
        text-align: center;
        padding: 14px 2px 10px 2px;
        border: 0;
        border-bottom: 4px solid transparent;
        font-weight: 500;
        font-size: 12px;
        line-height: 18px;
        cursor: pointer;
        transition: border 200ms linear 100ms;
        background-color: var(--ytd-searchbox-legacy-button-color);
        text-transform: var(--yt-button-text-transform, inherit);
        user-select: none !important;
    
        overflow: hidden;
        white-space: nowrap;
        /*text-overflow: ellipsis;*/
        text-overflow: clip;

    
    }
    
    
    /* .tab-btn[userscript-tab-content] */
    
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content]>svg{
        height: 18px;
        padding-right: 4px;
        vertical-align: bottom;
        opacity: .5;
        margin-right: 4px;
        color: var(--yt-button-color, inherit);
        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);
    }

    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content] svg{
        pointer-events: none;
    }




    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content].active{
        font-weight: 500;
        outline: 0;
        color:var(--yt-spec-text-primary);
        background-color: var(--ytd-searchbox-legacy-button-focus-color);
        border-bottom: 4px #ff4533 solid;
        border-bottom-color: var(--yt-brand-light-red);
    }
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content].active svg{
        opacity:.9 
    }
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content]:not(.active):hover{
        background-color: var(--ytd-searchbox-legacy-button-hover-color);
        color:var(--yt-spec-text-primary);
    }
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content]:not(.active):hover svg{
        opacity:.9 
    }
    
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content]{
        user-select: none !important;
    }
    
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content].tab-btn-hidden{
        display: none;
    }

    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content="#tab-comments"][loaded-comment="message"], 
    ytd-watch-flexy #right-tabs .tab-btn[userscript-tab-content="#tab-comments"][loaded-comment="message"]:hover{
        color: var(--yt-spec-icon-disabled);        
    }
    
    
    
    
     
    
    ytd-watch-flexy #right-tabs .tab-btn span#tab3-txt-loader:empty::after{
        display: inline-block;
        width: 4em;
        text-align: left;
        font-size: inherit;
        color: currentColor;
        transform: scaleX(0.8);
    }

    ytd-watch-flexy{
        --userscript-loading-content-letter-spacing: 2px;
    }


    html{   
        --tabview-text-loading:"Loading";
        --tabview-text-fetching:"Fetching";
    }
    
    html[lang|="ja"][lang^="ja"]{   
        --tabview-text-loading:"読み込み中..";
        --tabview-text-fetching:"フェッチ..";
    }
    
    html[lang|="ko"][lang^="ko"]{   
        --tabview-text-loading:"로딩..";
        --tabview-text-fetching:"가져오기..";
    }

    html[lang|="zh-Hant"][lang^="zh-Hant"]{   
        --tabview-text-loading:"加載中";
        --tabview-text-fetching:"抓取中";
    }
    html[lang|="zh-Hans"][lang^="zh-Hans"]{   
        --tabview-text-loading:"加载中";
        --tabview-text-fetching:"抓取中";
    }
    

     

    ytd-watch-flexy[tabview-youtube-comments^="-"] #right-tabs .tab-btn span#tab3-txt-loader:empty::after{
        content: var(--tabview-text-loading);
        letter-spacing: var(--userscript-loading-content-letter-spacing);
    }
    
    ytd-watch-flexy:not([tabview-youtube-comments^="-"]) #right-tabs .tab-btn span#tab3-txt-loader:empty::after{
        content: var(--tabview-text-fetching);
        letter-spacing: var(--userscript-loading-content-letter-spacing);
    }
    
    
    ytd-watch-flexy #right-tabs .tab-content{
        padding: 0;
        box-sizing: border-box;
        display: block;
        /*--yt-spec-brand-background-primary:var(--yt-spec-general-background-a);*/
        /*outline: 1px solid var(--userscript-border-color);*/
        outline: 1px solid var(--ytd-searchbox-legacy-border-color);
        position: relative;
        top: 0;
        display: flex;
        flex-direction: row;
        overflow: hidden;
    }
    
    
    ytd-watch-flexy[is-two-columns_] #right-tabs .tab-content{
        height: var(--userscript-tab-content-height);
        contain: size layout paint;
    }



    
    ytd-watch-flexy:not([is-two-columns_]) #right-tabs .tab-content{
        height: 100%;
    }

    ytd-watch-flexy #right-tabs .tab-content-cld{
        box-sizing: border-box;
        position: relative;
        display: block;
        width: 100%;
        overflow: auto;
        --tab-content-padding: var(--ytd-margin-4x);
        padding: var(--tab-content-padding);
        contain: layout paint;
        
    } 

    .tab-content-cld, #right-tabs, .tab-content{
        transition: none;
        animation: none;
    }
    
    ytd-watch-flexy[is-two-columns_] #right-tabs .tab-content-cld{
        height:100%;
        width:100%;
         contain: size layout paint style;
        position: absolute;
    }
    
    ytd-watch-flexy #right-tabs .tab-content-cld.tab-content-hidden{
        display: none;
        width:100%; /* width fix */
        contain: size layout paint style;
    }
    
    ytd-watch-flexy[tabview-youtube-comments*="K"] #right-tabs .tab-content-cld.tab-content-hidden#tab-comments{
        display: block;
        position: absolute;
        /*
        content-visibility: hidden;
        */
        opacity:0;
       z-index:-1 !important; /* 2022.04.25 - Edge 100 */
        content-visibility: auto; /* 2022.04.25 - Edge 100 */
        pointer-events: none;
    }

    /* <-- 2022/11/12 fix for single column mode */
    
    ytd-watch-flexy[tabview-youtube-comments*="K"]:not([is-two-columns_]) #right-tabs .tab-content-cld.tab-content-hidden#tab-comments{
        position: fixed;
        top: 4vh;
        left: 0;
        height: 80vh;
    }

    /* 2022/11/12 fix for single column mode --> */

    ytd-watch-flexy[tabview-youtube-playlist^="-"] #right-tabs .tab-content-cld.tab-content-hidden#tab-list{
        display: block;
        position: absolute;
        opacity: 0;
        content-visibility: hidden;
        pointer-events: none;
    }

    ytd-watch-flexy[is-two-columns_][tabview-selection=""] #right-tabs .tab-content{
        display: none;
        contain: strict;
        width:100%; /* to allow comments loading */
    }
    ytd-watch-flexy[is-two-columns_][tabview-selection=""][tabview-youtube-comments*="K"] #right-tabs .tab-content{
        display: block;
        position: absolute;
        opacity:0;
       z-index:-1 !important; /* 2022.04.25 - Edge 100 */
        content-visibility: auto; /* 2022.04.25 - Edge 100 */
        pointer-events: none;
    }

    ytd-watch-flexy[tabview-selection=""] #right-tabs .tab-content-cld{
        display: none;
        contain: strict;
        width:100%; /* to allow comments loading */ /*experimental*/
    }
    ytd-watch-flexy[tabview-selection=""][tabview-youtube-comments*="K"] #right-tabs .tab-content-cld#tab-comments{
        display: block;
        position: absolute;
        /*
        content-visibility: hidden;
        */
        opacity:0;
       z-index:-1 !important; /* 2022.04.25 - Edge 100 */
        content-visibility: auto; /* 2022.04.25 - Edge 100 */
        pointer-events: none;
    }
    ytd-watch-flexy[tabview-youtube-playlist^="-"] #right-tabs .tab-content-cld#tab-list{
        display: block;
        position: absolute;
        opacity: 0;
        content-visibility: hidden;
        pointer-events: none;
    }
     
    
    ytd-watch-flexy #right-tabs .tab-content-cld#tab-list{
        --tab-content-padding: 0px;
        overflow: hidden; /* avoid double scroll */
    }
    
    ytd-watch-flexy #right-tabs .tab-content-cld#tab-videos [placeholder-videos]{
        --tab-content-padding: var(--ytd-margin-2x);
    }
    
    
    

    

    ytd-watch-flexy:not([fullscreen]):not([is-two-columns_]) #right-tabs .tab-content > .tab-content-cld:not(.tab-content-hidden){
        min-height: calc(100vh - var(--ytd-watch-flexy-masthead-height) - var(--tabview-youtube-tabbtn-height) - var(--ytd-margin-3x));
    }
           
 



    /* too many space at the right */
    ytd-watch-flexy #tab-comments,
    ytd-watch-flexy #tab-videos [placeholder-videos]
    {
        padding-right: 4px;
    }
    
    /* fix the rendering block overflow x problem */
    ytd-watch-flexy #tab-videos ytd-compact-video-renderer yt-interaction.extended{
        max-width: 100%;
    }

    
    
    
    
    ytd-live-chat-frame#chat:not([collapsed]) > .ytd-live-chat-frame#show-hide-button:first-child{
        border-bottom: 1px solid var(--yt-spec-10-percent-layer);
        box-sizing: border-box;
        border-bottom-color: var(--yt-spec-general-background-a); /* css fix to background loading */
    }
    
     /* double .ytd-watch-flexy is Youtube Coding Bug */
    body ytd-watch-flexy[flexy] #chat.ytd-watch-flexy:not([collapsed]).ytd-watch-flexy, 
    body ytd-watch-flexy[flexy] #chat-container.ytd-watch-flexy:not([chat-collapsed]).ytd-watch-flexy,
    body ytd-watch-flexy[flexy][js-panel-height_] #chat.ytd-watch-flexy:not([collapsed]).ytd-watch-flexy, 
    body ytd-watch-flexy[flexy][js-panel-height_] #chat-container.ytd-watch-flexy:not([chat-collapsed]).ytd-watch-flexy {
        --userscript-chat-max-height: calc(var(--userscript-base-height) - 20px);
        height: var(--userscript-chat-max-height);
        min-height: 10px;
    }


     /* double .ytd-watch-flexy is Youtube Coding Bug */
     body ytd-watch-flexy[flexy][js-panel-height_] #chat.ytd-watch-flexy:not([collapsed]).ytd-watch-flexy{
    
        --userscript-chat-max-height: var(--userscript-chatroom-height); /* not override if value not set */
    
    }
    /*dy ytd-watch-flexy[flexy][js-panel-height_] #chat-container.ytd-watch-flexy:not([chat-*/
    

    /* 2022/11/07 */
    body ytd-watch-flexy[flexy][fullscreen] #chat.ytd-watch-flexy:not([collapsed]).ytd-watch-flexy{
        --userscript-chat-max-height: calc(100vh - 40px - var(--userscript-h-tab-btn) - var(--ytd-margin-6x) - var(--ytd-margin-6x));
    }
    body ytd-watch-flexy[flexy][fullscreen] #chat.ytd-watch-flexy:not([collapsed]).ytd-watch-flexy{
        --userscript-chat-max-height: calc( 100vh - var(--ytd-watch-flexy-masthead-height) - 40px - var(--userscript-h-tab-btn) - var(--ytd-margin-6x) - var(--ytd-margin-6x) );
    }
    
    
    
    ytd-watch-flexy[is-two-columns_][userscript-chatblock]{
        --userscript-tab-content-vertical-offset: 42px;
    }
    
    ytd-watch-flexy[is-two-columns_]{
        --userscript-tab-content-height: calc(var(--userscript-base-height) - var(--userscript-tab-content-vertical-offset, 0px));
    }

    /* 2022/11/07 */
    ytd-watch-flexy[is-two-columns_][fullscreen]{
        --userscript-tab-content-height: calc(var(--userscript-base-height) - var(--userscript-tab-content-vertical-offset, 0px) - var(--ytd-margin-6x) - var(--ytd-margin-2x));
    }
    
    ytd-watch-flexy[is-two-columns_][userscript-chatblock]:not([userscript-chat-collapsed]){
        --userscript-available-height: var(--tabview-youtube-tabbtn-height);
        --userscript-chatroom-height: calc(var(--userscript-base-height) - 6px);
    }

    ytd-watch-flexy[is-two-columns_][userscript-chatblock][userscript-chat-collapsed],
    ytd-watch-flexy[is-two-columns_]:not([userscript-chatblock]):not([userscript-chat-collapsed]){
        --userscript-available-height: var(--userscript-tab-content-height);
        --userscript-chatroom-height: '-NULL-';
    }
    
    
    ytd-watch-flexy[userscript-chatblock]:not([userscript-chat-collapsed]):not([is-two-columns_]) #right-tabs{
        min-height: 0; /* avoid page scroll when display of tab-content changed */
    }
    
    
    ytd-watch-flexy:not([is-two-columns_]) #right-tabs[userscript-sticky]{
        min-height: 0px;
    }
    
    ytd-watch-flexy:not([is-two-columns_]){
        --userscript-chatroom-height: var(--ytd-watch-flexy-chat-max-height);
    }
    
     
    ytd-watch-flexy ytd-live-chat-frame#chat{
        margin-top: 0;
    }
    
    html ytd-watch-flexy:not([is-two-columns_]) #chat.ytd-watch-flexy{
        margin-top: var(--ytd-margin-2x);
    }
    
    ytd-watch-flexy[is-two-columns_] ytd-playlist-panel-renderer[js-panel-height_] #container.ytd-playlist-panel-renderer{
        min-height: 0;
        max-height: var(--userscript-available-height);
    }
    
    
    
    .tab-content-cld ytd-playlist-panel-renderer{
        max-height: none !important;
        padding: 0 !important;
        margin: 0 !important;
    }


    ytd-watch-flexy[is-two-columns_] .tab-content-cld #ytd-userscript-playlist{
        height:100%;
    }
    ytd-watch-flexy[is-two-columns_] .tab-content-cld ytd-playlist-panel-renderer[js-panel-height]{
        height:100%;
    }
    ytd-watch-flexy[is-two-columns_] .tab-content-cld ytd-playlist-panel-renderer[js-panel-height] #container.ytd-playlist-panel-renderer{
        max-height: none;
    }





    
    ytd-watch-flexy:not([theater]):not([is-two-columns_]) #secondary.ytd-watch-flexy,
    ytd-watch-flexy[theater]:not([is-two-columns_]) #secondary.ytd-watch-flexy{
        margin-top: 0;
        padding-bottom: 0;
    }
    
    
    ytd-watch-flexy:not([is-two-columns_]):not([theater]):not([fullscreen]) #primary.ytd-watch-flexy, 
    ytd-watch-flexy:not([is-two-columns_]):not([theater]):not([fullscreen]) #secondary.ytd-watch-flexy{
        padding-top: 0;
    }
    
    ytd-watch-flexy[tabview-selection^="#tab-"]:not([theater]):not([is-two-columns_]) #primary-inner,
    ytd-watch-flexy[tabview-selection^="#tab-"][theater]:not([is-two-columns_]) #primary-inner{
        padding-bottom: var(--ytd-margin-6x);
    }
    
    body ytd-video-primary-info-renderer{
        padding: 12px 0 2px 0; 
    }
    
    
    
    /* left side - like menu smaller */
    
    #primary #player ~ #info ytd-menu-renderer yt-icon-button.ytd-toggle-button-renderer {
        line-height: 1;
        padding: calc(1.0 * var(--yt-button-icon-padding, 8px));
        width: calc(0.75 * var(--yt-button-icon-size, var(--yt-icon-width, 40px)));
        height: calc(0.75 * var(--yt-button-icon-size, var(--yt-icon-height, 40px)));
    }
    
    #primary #player ~ #info ytd-menu-renderer yt-icon-button.ytd-button-renderer {
        line-height: 1;
        padding: calc(1.0 * var(--yt-button-icon-padding, 8px));
        width: calc(0.75 * var(--yt-button-icon-size, var(--yt-icon-width, 40px)));
        height: calc(0.75 * var(--yt-button-icon-size, var(--yt-icon-height, 40px)));
    }
    
    #primary #player ~ #info ytd-menu-renderer #button.ytd-menu-renderer {
        width: calc(0.75 * var(--paper-icon-button_-_width, var(--yt-icon-width)));
        height: calc(0.75 * var(--paper-icon-button_-_height, var(--yt-icon-height)));
    }
    
    
    
     
    #right-tabs{
        position: relative;
    }
    
    
    
    
    
    
    
    
    
    
    /* ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents */
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info {
        display: flex;
        flex-direction: column;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info{
        padding-bottom: 6px;
        border: 0;
        outline: 0;
    }
        
    ytd-watch-flexy:not([is-two-columns_]) #primary #player ~ #info ytd-menu-renderer a{
        white-space: nowrap;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents > ytd-video-primary-info-renderer{
        border: 0;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents #menu-container{
        padding: 0;
        margin: 0;
        margin-left: 60px;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents #menu-container > #menu{
        padding: 0;margin: 0;
        position: static;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents #menu-container > #menu > ytd-menu-renderer{
        padding: 0;margin: 0;
        height: var(--ytd-user-comment_-_line-height);
        align-items: center;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container >#info >#info-text{
        max-height: none;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents, 
    #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container{
        flex-grow: 1;
    }
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents, 
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents > ytd-video-primary-info-renderer, 
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container{
        display: flex;
        height: 100%;
        flex-direction: column;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container > .title.ytd-video-primary-info-renderer{
        flex-grow: 1;
    }
    
    
    
    
    
    
    
    
    
    
    
    /* ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents */
    
    
    
    
    /* ytd-watch-flexy[is-two-columns_] #player ~ #info */
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info {
        display: flex;
        flex-direction: column;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info{
        padding-bottom: 6px;
        border: 0;
        outline: 0;
    }
    
    ytd-watch-flexy[is-two-columns_] #primary #player ~ #info ytd-menu-renderer a{
        white-space: nowrap;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents > ytd-video-primary-info-renderer{
        border: 0;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents #menu-container{
        padding: 0;
        margin: 0;
        margin-left: 60px;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents #menu-container > #menu{
        padding: 0;margin: 0;
        position: static;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents #menu-container > #menu > ytd-menu-renderer{
        padding: 0;margin: 0;
        height: var(--ytd-user-comment_-_line-height);
        align-items: center;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container >#info >#info-text{
        max-height: none;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents, 
    #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container{
        flex-grow: 1;
    }
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents, 
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents > ytd-video-primary-info-renderer, 
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container{
        display: flex;
        height: 100%;
        flex-direction: column;
    }
    
    ytd-watch-flexy[is-two-columns_] #player ~ #info > #info-contents > ytd-video-primary-info-renderer > #container > .title.ytd-video-primary-info-renderer{
        flex-grow: 1;
    }
    
    
    
    
    
    
    
    
    
    /* ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer ytd-menu-renderer  */
    
    
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer ytd-menu-renderer,
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer ytd-menu-renderer #button.ytd-menu-renderer{
        --yt-icon-button-icon-width: var(--ytd-margin-4x);
        --yt-icon-button-icon-height: var(--ytd-margin-4x);
        --paper-icon-button_-_width: var(--ytd-margin-4x);
        --paper-icon-button_-height: var(--ytd-margin-4x);
    }
    
    /* ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata  */
    
    
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata{
        height: 100%;
    }
    
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata > a{
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata .secondary-metadata{
        flex-grow: 1;
        display: flex;
        flex-direction: row;
    }
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata .secondary-metadata .badge{
        box-sizing: border-box;
        margin: 2px 2px;
        width: 100%;
        text-align: center;
    }
    
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata .secondary-metadata >ytd-video-meta-block{
        flex-grow: 1;
        overflow: hidden;
    }
    
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-compact-video-renderer .metadata .secondary-metadata ytd-badge-supported-renderer{
        flex-direction: column;
        white-space: nowrap;
    }
    
    
    
    
    /* --- zoom --- */
    
    ytd-watch-flexy[is-two-columns_] #tab-comments ytd-comments #main.style-scope.ytd-comment-renderer{
        zoom: var(--userscript-zoom-comments);
        /*
        transform: scale(var(--userscript-zoom-comments, 1.0));
        transform-origin: 0 0;
        --width: calc(100% * 1.0 / var(--userscript-zoom-comments, 1.0));
        width: var(--width);
        */
    }
    
    ytd-watch-flexy[is-two-columns_] #tab-videos [placeholder-videos] .metadata.style-scope.ytd-compact-video-renderer,
    ytd-watch-flexy[is-two-columns_] #tab-videos [placeholder-videos] .metadata.style-scope.ytd-compact-radio-renderer,
    ytd-watch-flexy[is-two-columns_] #tab-videos [placeholder-videos] .metadata.style-scope.ytd-compact-playlist-renderer,
    ytd-watch-flexy[is-two-columns_] #tab-videos [placeholder-videos] yt-chip-cloud-chip-renderer.style-scope.yt-chip-cloud-renderer
    {
        zoom: var(--userscript-zoom-videos);
    }

    ytd-watch-flexy[is-two-columns_] #tab-list #ytd-userscript-playlist{
        zoom: var(--userscript-zoom-list);
    }
    
    /* --- zoom --- */
    
    
    /* #tab-info ytd-expander */
    
    ytd-watch-flexy[is-two-columns_] #tab-info ytd-expander{
        /* space fix for tab INFO */
        padding: 0;
        margin: 0;
        zoom: var(--userscript-zoom-info); /* smaller text in tab Info */
    }
    /* single column view - keep margin-left if available */
    ytd-watch-flexy:not([is-two-columns_]) #tab-info ytd-expander{
        /* space fix for tab INFO */
        padding: 0;
        margin-right: 0;
        margin-top: 0;
        margin-bottom: 0;
        zoom: var(--userscript-zoom-info); /* smaller text in tab Info */
    }
    
    #tab-info ytd-expander, 
    #tab-info ytd-expander .content.ytd-metadata-row-header-renderer, 
    #tab-info ytd-expander #title.ytd-metadata-row-renderer, 
    #tab-info ytd-expander .ytd-metadata-row-renderer, 
    #tab-info ytd-expander ytd-metadata-row-renderer {
        /* smaller text for tab INFO */
        /*
        font-size: var(--ytd-user-comment_-_font-size);
        font-weight: var(--ytd-user-comment_-_font-weight);
        line-height: var(--ytd-user-comment_-_line-height);
        letter-spacing: var(--ytd-user-comment_-_letter-spacing);
        */
    }
    


    ytd-watch-flexy:not([is-two-columns_]) #right-tabs .tab-content-cld#tab-info:not(.tab-content-hidden){
        display: flex;
        flex-direction: row;
    }

    ytd-watch-flexy:not([is-two-columns_]) #right-tabs .tab-content-cld#tab-info::before {
        content: " ";
        flex-grow: 200;
        max-width: 64px;
    }
    
    ytd-watch-flexy:not([is-two-columns_]) #right-tabs .tab-content-cld#tab-info > ytd-expander{
        margin-left:0;
        flex-grow: 300;
    }

    
    
    
    
    /* smaller text in tab Comments */
    #tab-comments > #comments #main.ytd-comment-renderer{
        /*zoom: 0.95;*/
    }
    
    #tab-comments ytd-comments-header-renderer{
        padding: 0;margin-top: 0;margin-left: 0;margin-right: 0;
    }
    
     
    
    /* smaller text for tab Videos */
    #tab-videos [placeholder-videos] ytd-compact-video-renderer .details > .metadata.style-scope.ytd-compact-video-renderer {
        /*zoom: 0.94;*/
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    #tab-list ytd-playlist-panel-renderer#playlist yt-icon-button#expand-button{
        /* hide expand button */
        display: none;
    }
    
    #tab-list ytd-playlist-panel-renderer#playlist #header-description, 
    #tab-list ytd-playlist-panel-renderer#playlist #header-description yt-formatted-string[class]{
    
    /* fix playlist title */
    
    /*
        font-size: var(--ytd-user-comment_-_font-size);
        font-weight: var(--ytd-user-comment_-_font-weight);
        line-height: var(--ytd-user-comment_-_line-height);
        letter-spacing: var(--ytd-user-comment_-_letter-spacing);
        height: calc(1 * var(--ytd-subheadline-one-line-ellipsis_-_max-height));
        */
        white-space: nowrap;
        
    }
    
    
    #tab-list ytd-playlist-panel-renderer#playlist .header.ytd-playlist-panel-renderer:hover #header-description, 
    #tab-list ytd-playlist-panel-renderer#playlist .header.ytd-playlist-panel-renderer:hover #header-description yt-formatted-string[class]{
        height: auto;
        max-height: none;
        white-space: normal;
    }
    

    

    /* <-- playlist css changed in 2022/11/09 -- */

    #tab-list ytd-playlist-panel-renderer#playlist .header.ytd-playlist-panel-renderer {
        cursor: default;
        position: relative;
        z-index: 1;
        padding: 12px 6px 8px 16px;
        --tabview-playlist-header-zindex: -1;
        /*--tabview-playlist-header-display: none;*/
        --tabview-playlist-header-position: absolute;
        --tabview-playlist-header-transform: translate(-100vw,0);
    }


    #tab-list ytd-playlist-panel-renderer#playlist .header.ytd-playlist-panel-renderer:hover{
        /*--tabview-playlist-header-display: flex;*/
        
        --tabview-playlist-header-position: relative;
        --tabview-playlist-header-transform: initial;

        --tabview-playlist-header-height: calc( 36px + 4px );
        
    }
    


    /* changed in 2022/11/09 */
    
    /* #tab-list ytd-playlist-panel-renderer#playlist #container */
    
    #tab-list ytd-playlist-panel-renderer#playlist #container{
        border: 0; /* hide playlist default border */
    }
    
    
    #tab-list ytd-playlist-panel-renderer#playlist #container > .header yt-icon-button{
        background-color: transparent;
    }
    
         
    #tab-list ytd-playlist-panel-renderer#playlist #container > .header #header-contents{

        position: relative;
        contain: none;
    }   
 
    #tab-list ytd-playlist-panel-renderer#playlist .header.ytd-playlist-panel-renderer #header-top-row + #playlist-actions{
        /* display: var(--tabview-playlist-header-display);*/
        position: var(--tabview-playlist-header-position);
        transform: var(--tabview-playlist-header-transform);
        height: var(--tabview-playlist-header-height);
        align-items: center;
        min-height: var(--tabview-playlist-header-height);
     }
 


 
    #tab-list ytd-playlist-panel-renderer#playlist #container > .header.ytd-playlist-panel-renderer:hover{
        --tabview-playlist-shift: calc( -80px + var(--tabview-playlist-header-height) );
        margin-bottom: var(--tabview-playlist-shift);
    }   

    
    /* -- playlist css changed in 2022/11/09 --> */


    /* 2022/11/14 fix playlist display issue */

    #tab-list ytd-playlist-panel-renderer[collapsible][collapsed] #playlist-actions.ytd-playlist-panel-renderer{
        display: flex;
    }
    #tab-list ytd-playlist-panel-renderer[collapsible][collapsed] .playlist-items.ytd-playlist-panel-renderer{
        display: block;
    }



    
    /* hide playlist border & toggle button */
    
    
    
    
    /* hide original right tabs {#related} */
    #primary-inner > #related, #secondary-inner > #related, /* during resizing - relocate it between {#primary} and {#secondary} */
    *:not(#tab-videos) > #related,
    #related #related, /* youtube coding bug */
    *:not([placeholder-videos]) > ytd-watch-next-secondary-results-renderer,  /* hide videos list & play list before script loading */
    #related > #related-skeleton, #related > #player-ads,
    *:not(#ytd-userscript-playlist) > ytd-playlist-panel-renderer#playlist:not(.ytd-miniplayer),  /* hide videos list & play list before script loading */
    #primary #primary #info ~ #meta #meta-contents ytd-expander /* meta-contents relocated */
    {
        position: absolute;
        z-index: -1;
        visibility: collapse;
        max-height: 40px;
        overflow: hidden;
        margin-top: -40px;
        contain: strict;
    }
    
    #primary-inner #player ~ ytd-comments#comments{
        position: absolute;
        z-index: -1;
        visibility: collapse;
        contain: layout paint;
    }
    
    
    
    
    /* responsive to non-column flexy */
    ytd-watch-flexy:not([is-two-columns_]) #columns.ytd-watch-flexy{
        flex-direction: column; /* from (flex-direction: column;) | overriding {#columns.ytd-watch-flexy} */
    }
    ytd-watch-flexy:not([is-two-columns_]) #columns #secondary.ytd-watch-flexy{
        display: block; /* from (display: inline-block;) | overiding {ytd-watch-flexy:not([is-two-columns_]) #secondary.ytd-watch-flexy} */
    }
    
    
    /* css fix for responsive two columns flex , width */
    
    ytd-watch-flexy[flexy]:not([is-two-columns_]):not([fullscreen]) #secondary.ytd-watch-flexy {
        min-width: var(--ytd-watch-flexy-min-player-width);
        width: auto;
    }
    ytd-watch-flexy[flexy][is-two-columns_] #secondary.ytd-watch-flexy {
        width: var(--ytd-watch-flexy-sidebar-width);
        min-width: var(--ytd-watch-flexy-sidebar-min-width);
    }
    
    ytd-watch-flexy[theater][is-two-columns_] #secondary.ytd-watch-flexy { 
        margin-top: var(--ytd-margin-3x);
        padding-bottom: 0;
    }
    
    
    
    /* css fix for responsive two columns flex , align {#secondary} style like {#primary} */
    
    ytd-watch-flexy:not([fullscreen]):not([is-two-columns_]) #ytd-userscript-playlist #container{
        max-height: calc(100vh - var(--ytd-watch-flexy-masthead-height) - var(--ytd-margin-6x) - var(--userscript-sticky));
    }
    
    ytd-watch-flexy:not([fullscreen]):not([is-two-columns_]) #primary.ytd-watch-flexy{
        margin-top: 0;
        margin-bottom: 0;
        padding-top: var(--ytd-margin-3x);
        padding-bottom: 0;
    }
    
    
    /* two column mainly;  theater view make font smaller */
    ytd-watch-flexy[theater] #player ~ #info #info-contents .title{
        font-size:var(--ytd-user-comment_-_font-size);
    }
    
    
    /* <<< sticky right-tabs header --- */

    /* keep the single column view css as simple as possible */
    /* use js coding to make it like sticky */
    /* tried native sticky but the sticky element is "covered" by tab content (z-index no use) */
    #right-tabs > header{
        position: relative;
        box-sizing:border-box;
    }
    ytd-watch-flexy[flexy] #right-tabs > header{
        background-color: var(--yt-spec-general-background-a);
    }
    ytd-watch-flexy[flexy]:not([is-two-columns_]) #right-tabs[userscript-sticky] > header{
        z-index: 2;
        position: fixed;
        top: var(--ytd-watch-flexy-masthead-height);
        width: var(--userscript-sticky-width, 100%);
    }

    @supports (top: var(--ytd-watch-flexy-masthead-height-xs-x)){
        
    }

    ytd-watch-flexy[flexy]:not([is-two-columns_]) #right-tabs[userscript-sticky]{
        padding-top: var(--userscript-sticky);
    }
    
    
    /* --- sticky right-tabs header >>> */
    


    /* k002 */
        
    

    /* << whole page scroll bar (original-type) */
    
    /* the scrollbar of the entire page is wrong due to youtube coding, just hide it */
    /* siginificant empty at the right side (vertical bar) in the dark mode */
    html.tabview-mini-player body {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    /*
    html.tabview-normal-player body::-webkit-scrollbar {
        display: none; /.* Blink and Webkit *./
    }*/
    html.tabview-normal-player body {
        overflow-y: auto; /* override body { overflow-y: scroll } */
    }
    
    /* whole page scroll bar (original-type) >> */
    
    /*  overflow fix */
    ytd-popup-container #contentWrapper.tp-yt-iron-dropdown ytd-menu-popup-renderer[slot="dropdown-content"]{
        overflow: hidden;
    }
    
    
    /* <<< page height setting - two-column-normal ---  */







    /* k005 */


    
    /* two column height = 100vh */
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #columns.ytd-watch-flexy {
        margin-bottom: 0;
        /* max-height: none; */
        height: calc(100vh - var(--ytd-watch-flexy-masthead-height));
        padding-bottom: 0;
    }

    /* it is possible that #info is too height, make it overflow: auto with no scroll-bar */
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner{
        max-height: 100%;
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner::-webkit-scrollbar {
        display: none; /* Blink and Webkit */
    }


    /* video player sticky at the top */

    /* 2022/11/07 - conflict with modern layout cinema */

    /*
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner > #player:first-child {
        top: 0;
        position: sticky; // as the parent is scrollable, the player can be sticky to the top //
        z-index: 1;
    }
    */

    /*
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner > #player:first-child {
        top: 0;
        position: sticky; 
        z-index: 0;
    }
    
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner > #player:first-child #player-container-outer {
        z-index: 1;
    }
    */
    

    
    /* --- page height setting - two-column-normal >>>  */
    
    
    
    /* <<< page height setting - two-column-theater ---  */
    

    /* theater mode: the player is extracted from two column view */
    /* only set padding & margin */
    ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen]) #columns.ytd-watch-flexy {
        margin-bottom: 0;
        padding-bottom: 0; 
    }

    /* theater mode same mechanism */
    ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen]){
        height: calc(100vh - var(--ytd-watch-flexy-masthead-height));
        overflow: auto;
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen])::-webkit-scrollbar {
        display: none;
    }
    /* video player sticky at the top */
    ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen]) > #player-theater-container {
        top: 0;
        position: sticky; /* as the parent is scrollable, the player can be sticky to the top */
    }
    
    
    /* --- page height setting - two-column-theater >>>  */
    
    
    ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen]) #columns.ytd-watch-flexy {
        margin-bottom: 0;
        padding-bottom: 0; 
    }
    



    /* k006 */
    
    
    
    
    
    
    
    
    
    
    
    
    
    /* ytd-live-chat-frame#chat:not([collapsed]) */
    
    ytd-live-chat-frame#chat:not([collapsed]):not([yt-userscript-iframe-loaded])::before{
        position: absolute;
        content: "Loading";
        z-index: 0;
        display: block;
        height: 100%;
        color: var(--yt-spec-text-primary);
        background-color: var(--ytd-searchbox-legacy-button-hover-border-color);
        width: 100%;
        text-align: center;
        /* line-height: 300px; */
        line-height: var(--userscript-chatroom-height);
        letter-spacing: var(--userscript-loading-content-letter-spacing);
    }
    
    
    ytd-live-chat-frame#chat:not([collapsed]){
        position: relative; 
    }
    
    ytd-live-chat-frame#chat:not([collapsed]) > * {
        z-index: 1;
        position: inherit;
    }
    
    ytd-live-chat-frame#chat[collapsed] iframe{
        display: none;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    /* flexbox | ytd-watch-flexy[is-two-columns_]:not([theater]):not([fullscreen]) | #primary-inner | #info */
    
    ytd-watch-flexy[is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner{
        display: flex;
        flex-flow: column;
        height: 100%;
    }

    /* non-teaser UI */
    ytd-watch-flexy[is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner > #info{
        flex: 1;
    }

    /* teaser UI */
    ytd-watch-flexy[is-two-columns_]:not([theater]):not([fullscreen]) #primary-inner > ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy{
        margin-top: 0;
        margin-bottom: 0;
        flex-grow: 1;
        justify-content: end;
    }
    
    
    
    
    
    /* k003 */
    
    
    
    
    
    
    
    /* flexbox | ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) | #columns | #primary-inner | #info */
    
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]){
        display: flex;    
        flex-direction: column;
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns{
        flex: 1;
        overflow: auto;
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns > #primary{
        overflow: auto;
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns #primary-inner{
        display: flex;
        flex-flow: column;
        height: 100%;
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns #primary-inner > #info{
        flex: 1;
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns > #secondary{
        overflow: hidden;
    }
/*
    ytd-watch-flexy[is-two-columns_][theater][tabview-selection=""]:not([fullscreen]) > #columns > #secondary{
        overflow: initial;  fix border
    }
     */

    
     ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns > #secondary #right-tabs #material-tabs{
        outline: 0;
        border: 1px solid var(--ytd-searchbox-legacy-border-color);
        /*border: 1px solid var(--userscript-border-color);*/
        /* use border instead due to overflow:hidden */
    }
    
    
    
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns > #primary{
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    ytd-watch-flexy[is-two-columns_][theater]:not([fullscreen]) > #columns > #primary::-webkit-scrollbar {
        display: none;
    }
    
    
    
    
         
    
    
    
    
    
    
    
    
    
    
    
    
    /* flexbox */
    
    
    
    ytd-watch-flexy[tabview-selection="#tab-list"]:not([is-two-columns_]) #tab-list:not(.tab-content-hidden) ytd-playlist-panel-renderer > #container{
        max-height: none;
    }
    
    
    
    
    ytd-watch-flexy[is-two-columns_]:not([theater]) #tab-videos{
        padding: 0;
    }
    
    
    ytd-watch-flexy[is-two-columns_]:not([theater]) [placeholder-for-youtube-play-next-queue] > #suggestions-search{
        position: sticky; 
        top: -1px;  /* visual gap */
        z-index: 2;
    }
    
    ytd-watch-flexy[is-two-columns_]:not([theater]) #tab-videos [placeholder-videos]{
        /*overflow: auto;*/
        padding: var(--tab-content-padding, 0px);
        padding-right: 4px;
    }
    
    
    
    ytd-watch-flexy[is-two-columns_] #panels.ytd-watch-flexy ytd-engagement-panel-section-list-renderer.ytd-watch-flexy {
        margin-bottom: var(--ytd-margin-2x);
    }
    
    
    
    
    
    
    
    
    
    
    
    /* autocomplete */
    
    autocomplete-positioner > .autocomplete-suggestions{
        position: absolute !important;
        left:auto !important;
        top:auto !important;
        width: 100% !important;
        margin: 0 !important;   
        z-index: 99; 
    }
    
    autocomplete-positioner{
        overflow: visible;
        display: block;
        position: relative;
        height: 0;
        width: 100%;
        margin-top: calc( -1 * ( var(--sb-margin-bottom) ) );
        margin-bottom: calc( 1 * ( var(--sb-margin-bottom) ) );
        z-index: 99; 
    }
    
    
    
    
    
    
    
    /* autocomplete | position-fixed-by-tabview-youtube */
    
    autocomplete-positioner[position-fixed-by-tabview-youtube]{
        position: sticky;
        top: calc( var(--height, auto) - var(--tab-content-padding, 0px)) ;
        z-index: 2; 
    }
    autocomplete-positioner[position-fixed-by-tabview-youtube] > .autocomplete-suggestions[position-fixed-by-tabview-youtube]{
        z-index: 2; 
    }
    
    
    
    
    
    
    
    /* ytd-watch-flexy:not([is-two-columns_]) #columns */
    
    
    ytd-watch-flexy:not([is-two-columns_]) #columns.ytd-watch-flexy{
        overflow: auto;
    }
    
    
    ytd-watch-flexy:not([is-two-columns_]) #columns{
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    ytd-watch-flexy:not([is-two-columns_]) #columns::-webkit-scrollbar {
        display: none;
    }
    
    
    
    
    
    
    
    
    
    
    /* plugin - #youtube-play-next-queue-renderer */
    
    #youtube-play-next-queue-renderer .queue-button{
        height: auto;
        zoom: 0.8;    
    }
    
    #youtube-play-next-queue-renderer .queue-button.queue-play-now, 
    #youtube-play-next-queue-renderer .queue-button.queue-play-next, 
    #youtube-play-next-queue-renderer .queue-button.queue-remove{
        margin: 2px !important;
    }
    
    #youtube-play-next-queue-renderer ytd-badge-supported-renderer {
        align-self: flex-end;
    }
    
    
    
    
    /* align scrollbar style */
    #youtube-play-next-queue-renderer::-webkit-scrollbar {
        width: 16px;
    }
    #youtube-play-next-queue-renderer::-webkit-scrollbar-thumb {
        height: 56px;
        border-radius: 8px;
        border: 4px solid transparent;
        background-clip: content-box;
        background-color: var(--yt-spec-text-secondary);
    }
    /* Colorize the scroll bar (chrome, safari, edge) */
    #youtube-play-next-queue-renderer::-webkit-scrollbar-thumb, #youtube-play-next-queue-renderer::-webkit-scrollbar-thumb{
        background-color: var(--paper-checkbox-unchecked-color) !important;
    }
    #youtube-play-next-queue-renderer::-webkit-scrollbar-thumb:hover, #youtube-play-next-queue-renderer::-webkit-scrollbar-thumb:hover{
        background-color: var(--paper-checkbox-checked-color) !important;
    }
    #youtube-play-next-queue-renderer::-webkit-scrollbar-corner {
        background-color: transparent;
    }
    
    
    ytd-watch-flexy[flexy][is-two-columns_][theater] #primary.ytd-watch-flexy{
    
        --ytd-watch-flexy-min-player-width: 0;
    
    }
    
    ytd-watch-flexy[flexy]:not([is-two-columns_]) #player ~ #info ytd-video-primary-info-renderer #info{
        flex-wrap: wrap;
        justify-content: flex-end;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    /* live fill up view */
    .YouTubeLiveFilledUpView #primary-inner > #right-tabs:not(#player){
        padding: 0;
    }
    .YouTubeLiveFilledUpView ytd-watch-flexy[is-two-columns_] #right-tabs{
        padding: 0;
        margin: 0;
    }
    .YouTubeLiveFilledUpView ytd-watch-flexy[is-two-columns_]{
        --YouTubeLiveFilledUpView-header-height: calc(var(--ytd-watch-flexy-masthead-height) + var(--tabview-youtube-tabbtn-height));
    }
    .YouTubeLiveFilledUpView ytd-watch-flexy[is-two-columns_]{
        --YouTubeLiveFilledUpView-primary-width: calc(100vw - var(--ytd-watch-flexy-sidebar-width));
        --YouTubeLiveFilledUpView-secondary-width: var(--ytd-watch-flexy-sidebar-width);
    }
    .YouTubeLiveFilledUpView ytd-watch-flexy[flexy][js-panel-height_][is-two-columns_] ytd-live-chat-frame#chat.ytd-watch-flexy:not([collapsed]){
        height: calc(100vh - var(--YouTubeLiveFilledUpView-header-height)) !important;
    } 
    



    
    
    /* contain 321 */

    #tab-comments ytd-comments, #tab-comments ytd-item-section-renderer, #tab-comments #contents,
    ytd-watch-flexy[is-two-columns_] #tab-videos [placeholder-videos], 
    ytd-watch-flexy[is-two-columns_] #tab-videos ytd-watch-next-secondary-results-renderer, 
    ytd-watch-flexy[is-two-columns_] #tab-videos #items
    {
        contain: layout paint style; /* experimental */
    }
    
    
    ytd-watch-flexy #material-tabs, ytd-watch-flexy #material-tabs .tab-btn{
        contain: layout; /* experimental */
    }


    #material-tabs .tab-btn paper-ripple, #material-tabs .tab-btn svg{
        contain: size layout paint style; /* experimental */
    }


    /* contain 322 */






    /* contain 341 */


    iframe[src][id]{ 
        contain: size layout paint style; /* experimental */
    }

    ytd-live-chat-frame{
        contain: layout paint;
    } 

    #masthead-container, ytd-masthead#masthead{
        contain: layout style; /* experimental */
    }

    ytd-masthead > #container{
        contain: size layout style; /* experimental */
    }

    ytd-masthead > #container .style-scope.ytd-masthead{
        contain: layout style; /* experimental */
    }

    
    /* contain 342 */

    /* contain 351 */

    ytd-watch-flexy #right-tabs{
        contain: none;
    }
    ytd-watch-flexy[is-two-columns_] #right-tabs{
        contain: layout;
    }


    /* contain 352 */

    /* contain 791 - be careful */


    ytd-watch-flexy #player, ytd-player#ytd-player{
        /*contain: layout paint style;*/ /* removed in 2022/11/07 - conflict with YouTubeLiveClock and modern layout #cinematics */
        contain: layout style; /* added in 2022/11/07 */
    }
    .ytp-caption-window-container .caption-window, .ytp-caption-window-container .captions-text, 
    .ytp-caption-window-container .caption-visual-line, .ytp-caption-window-container .ytp-caption-segment{
        contain: layout paint;
    }

    /* contain 792 */



    /* contain 361 */

    yt-img-shadow[height][width]{
        contain: layout paint style; /* experimental */
        content-visibility: auto;
    }
    img[height][width]{
        contain: layout paint style; /* experimental */
        content-visibility: auto;
    }

    /* contain 362 */











    /* contain 851 */

.tab-content-cld svg,
.tab-content-cld yt-icon-button,
.tab-content-cld button,
.tab-content-cld yt-icon
{
    contain: size layout paint; /* removed in 2022/11/06 */
    contain: layout; /* added in 2022/11/06 */
}


    /* contain 852 */




    /* contain 871 */

.tab-content-cld ytd-thumbnail-overlay-resume-playback-renderer,
.tab-content-cld ytd-thumbnail-overlay-now-playing-renderer{
    contain: strict; 
    content-visibility: auto;
}
.tab-content-cld ytd-thumbnail-overlay-time-status-renderer{
    contain: paint;
    content-visibility: auto;        
}

.tab-content-cld ytd-thumbnail div.style-scope.ytd-thumbnail#overlays:not([can-reorder]):not([touch-persistent-drag-handle]){
    contain: size;
}

.tab-content-cld ytd-thumbnail div.style-scope.ytd-thumbnail#mouseover-overlay:not([can-reorder]):not([touch-persistent-drag-handle]){
    contain: size;
}
.tab-content-cld ytd-thumbnail div.style-scope.ytd-thumbnail#hover-overlays:not([can-reorder]):not([touch-persistent-drag-handle]){
    contain: size;
}

    /* contain 872 */
    


        /* contain 521 */

ytd-watch-flexy .tab-content-cld#tab-videos > [placeholder-videos] > ytd-watch-next-secondary-results-renderer > #items{
    contain: layout paint;
}

/*
ytd-watch-flexy .tab-content-cld#tab-comments > ytd-comments#comments > ytd-item-section-renderer#sections > #contents{
    contain: layout paint style;
}*/

ytd-watch-flexy .tab-content-cld#tab-comments > ytd-comments#comments > ytd-item-section-renderer#sections > #contents {
    contain: layout style; /* 2022/11/11 colored comments background padding */
}


ytd-watch-flexy:not([is-two-columns_]) .tab-content-cld#tab-comments > ytd-comments#comments > ytd-item-section-renderer#sections > #contents,
ytd-watch-flexy:not([is-two-columns_]) .tab-content-cld#tab-videos > [placeholder-videos] > ytd-watch-next-secondary-results-renderer > #items{
    content-visibility: auto;
}
    
    
ytd-watch-flexy #right-tabs .tab-content-cld.tab-content-hidden ytd-comments#comments, 
ytd-watch-flexy #right-tabs .tab-content-cld.tab-content-hidden #related, 
ytd-watch-flexy #right-tabs .tab-content-cld.tab-content-hidden #contents {
    visibility: collapse;
}


        /* contain 522 */


        /* contain 631 */

        
    
    
    /* experimental for drag & drop re-order */
    .style-scope.playlist-drag-handle,
    .style-scope[can-reorder],
    .style-scope[touch-persistent-drag-handle],
    .style-scope.playlist-drag-handle .style-scope,
    .style-scope[can-reorder] .style-scope,
    .style-scope[touch-persistent-drag-handle] .style-scope,
    .style-scope.playlist-drag-handle ~ .style-scope,
    .style-scope[can-reorder] ~ .style-scope,
    .style-scope[touch-persistent-drag-handle] ~ .style-scope{
        content-visibility: initial !important;
        contain: initial !important;
    }
    
    


/* for https://greasyfork.org/scripts/4870-maximize-video */
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush #masthead-container, 
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush #right-tabs,
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush ytd-video-primary-info-renderer, 
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush ytd-video-secondary-info-renderer, 
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush #player ~ div[id],
    #htmlToothbrush #bodyToothbrush ytd-app.parentToothbrush ytd-live-chat-frame{
        visibility:collapse;
    }

    /* ytd-thumbnail hover fix */
    
     
    .tab-content-cld ytd-thumbnail #overlays yt-icon,
    .tab-content-cld ytd-thumbnail #mouseover-overlay yt-icon,
    .tab-content-cld ytd-thumbnail #hover-overlays yt-icon {
        z-index:99999999 !important;
    }
     
    .tab-content-cld ytd-thumbnail #overlays [class],
    .tab-content-cld ytd-thumbnail #mouseover-overlay [class],
    .tab-content-cld ytd-thumbnail #hover-overlays [class]  
    {
        contain: none !important;
        content-visibility: visible !important;  
    }

    .tab-content-cld ytd-thumbnail tp-yt-paper-tooltip{
        contain: none !important;
        content-visibility: visible !important;  
        z-index:6666 !important;
        pointer-events:none !important;

    }
    
    /* for chrome extension - Enhancer for YouTube™
    https://chrome.google.com/webstore/detail/enhancer-for-youtube/ponfpcnoihfmfllpaingbgckeeldkhle  */
    html.efyt-control-bar-position-absolute ytd-watch-flexy:not([theater]) #columns #primary #player,
    html.efyt-control-bar-position-absolute ytd-watch-flexy:not([theater]) #columns #primary ytd-player#ytd-player {
        contain: initial !important;
    }



        /* contain 632 */










    
    
    /* -webkit-box | -webkit-line-clamp | comment fix line clamp */
    
    /* Chrome / Firefox / Edge */
    /*
    #tab-comments.tab-content-cld ytd-comments#comments ytd-expander[should-use-number-of-lines] > #content.ytd-expander{
       opacity:0.998;
    }
    #tab-comments.tab-content-cld ytd-comments#comments ytd-expander[should-use-number-of-lines] > #content.ytd-expander.tabview-fix-line-clamp{
       opacity:0.999;
    }
    */
    
     /* Chrome / Firefox / Edge + backward compatible with Waterfox Classic */
    /*
     #tab-comments.tab-content-cld ytd-comments#comments ytd-expander[max-number-of-lines] > #content.ytd-expander{
       opacity:0.998;
    }
    #tab-comments.tab-content-cld ytd-comments#comments ytd-expander[max-number-of-lines] > #content.ytd-expander.tabview-fix-line-clamp{
       opacity:0.999;
    }
    */
     
     /* Better CSS Layout for Info Meta since 2022.04.20 */
     .watch-active-metadata.style-scope.ytd-watch-flexy{
       flex-grow: 1;
       display: flex;
       flex-direction: column;   
     }
     .watch-active-metadata.style-scope.ytd-watch-flexy > #info{
       flex-grow: 1;
     }
    



     /* experimental to fix Chinese display bug like 
     

https://www.youtube.com/watch?v=wzjgnrIt4n8
https://www.youtube.com/watch?v=3-nuSx3F6YU

     */








      
    ytd-watch-flexy ytd-video-primary-info-renderer[has-date-text] #info-text.ytd-video-primary-info-renderer{
        height: auto;
        overflow: visible;
        -webkit-line-clamp: initial;
    }
 



     /* css for menu bar and hide image button text (Teaser UI ) */

     ytd-watch-flexy ytd-menu-renderer yt-formatted-string.style-scope.ytd-toggle-button-renderer.style-text{
        white-space: pre;
    }
       
    ytd-watch-flexy ytd-menu-renderer ytd-button-renderer.force-icon-button a.ytd-button-renderer{
       overflow: hidden;
       flex-wrap: wrap;
       width: var(--yt-button-icon-size,var(--yt-icon-width,40px));
       height: var(--yt-button-icon-size,var(--yt-icon-width,40px));
   }

   ytd-watch-flexy #primary #menu ytd-menu-renderer{
       --yt-button-icon-size: 32px;
   }
   ytd-watch-flexy #primary #menu ytd-menu-renderer .ytd-menu-renderer[style-target=button]{
        --yt-icon-button-icon-width: 24px;
        --yt-icon-button-icon-height: 24px;
        --yt-icon-width: 32px;
        --yt-icon-height: 32px;
   }

   ytd-watch-flexy ytd-menu-renderer .ytd-menu-renderer[style-target=button]{
       width: var(--yt-icon-width);
       height: var(--yt-icon-height);
   }
      
   ytd-watch-flexy ytd-menu-renderer ytd-download-button-renderer.force-icon-button a.ytd-download-button-renderer{
      overflow: hidden;
      flex-wrap: wrap;
      width: var(--yt-button-icon-size,var(--yt-icon-width,40px));
      height: var(--yt-button-icon-size,var(--yt-icon-width,40px));
  }










    
    /*  Some CSS fix for transcript */

    
    
    ytd-transcript-segment-renderer{
        /*content-visibility: auto;*/
        contain: layout paint;
    }
    ytd-engagement-panel-section-list-renderer ytd-transcript-search-panel-renderer > #body{
        contain: layout paint style;
    }

    
    yt-formatted-string.segment-text.style-scope.ytd-transcript-segment-renderer:focus {
        outline: 0;
    }

    body .segment.ytd-transcript-segment-renderer{
        --tabview-segment-renderer-background: '--NULL--';
        background-color: var(--tabview-segment-renderer-background);
    }

    body .segment.ytd-transcript-segment-renderer:focus:not(:hover):not(.active){
        --tabview-segment-renderer-background:transparent;
    }
    body .segment.ytd-transcript-segment-renderer:active:not(:hover):not(.active){
        --tabview-segment-renderer-background:transparent;
    } 

    
    ytd-transcript-segment-renderer{
        --tabview-transcript-segment-span-display: block;
    }
    
    yt-formatted-string.segment-text.ytd-transcript-segment-renderer > span{
        display: var(--tabview-transcript-segment-span-display);
    }
    


    /*  Userscript - Youtube Genius Lyrics */


    body> .loadingspinnerholder[title][style]{
        --tabview-youtube-tabbtn-height: 46px;
        margin-top:var(--tabview-youtube-tabbtn-height, 0px);
    }
     

    ytd-watch-flexy #content.ytd-engagement-panel-section-list-renderer iframe#lyricsiframe{
        width: 100% !important;
        height: calc(var(--ytd-watch-flexy-panel-max-height) - 96px) !important;

    }
    
    body > .loadingspinnerholder[style*="top"][style*="width"]{
        display:none !important;
        z-index:-1;
        opacity:0;
        visibility:collapse;
    }

    body > .loadingspinner[style*="top"][style*="width"]{
        display:none !important;
        z-index:-1;
        opacity:0;
        visibility:collapse;
    }


    ytd-engagement-panel-section-list-renderer #lyricsiframe{
        transition: none;
    }
    ytd-engagement-panel-section-list-renderer.epanel-lyrics-loading #lyricsiframe{
        opacity: 0 !important;
        pointer-events:none;
    }

    ytd-engagement-panel-section-list-renderer:not(.epanel-lyrics-loading) #lyricsiframe{
        opacity: 1 !important;
    }

    ytd-engagement-panel-section-list-renderer.epanel-lyrics-loading{
        overflow:hidden;
        position:relative;
    }

    ytd-engagement-panel-section-list-renderer.epanel-lyrics-loading::before{
        
        position: absolute;
        content: "Loading";
        z-index: 0;
        display: block;
        height: 100%;
        color: var(--yt-spec-text-primary);
        background-color: var(--ytd-searchbox-legacy-button-hover-border-color);
        width: 100%;
        text-align: center;
        /* line-height: 300px; */
        line-height: calc(var(--ytd-watch-flexy-panel-max-height) - 96px);
        letter-spacing: var(--userscript-loading-content-letter-spacing);

    }


    body > #lyricscontainer > #lyricsiframe {
        
        opacity: 0 !important;
        pointer-events:none;
    }


    
    /* 9341 */


    
    /*  contain-intrinsic-size - guess the size = 1.2 x SizeMax */
        
    @supports (contain-intrinsic-size: 1px 1px) and selector(:has(:hover)){
        /* layout.css.has-selector.enabled = true OR chrome only */

        ytd-comment-thread-renderer[style*="--tabview-cmt-height"]{
            content-visibility: auto;
            contain-intrinsic-size: 1px var(--tabview-cmt-height, 234px); /* 1.2 x SizeMax */
        }
        
        ytd-comment-thread-renderer[style*="--tabview-cmt-height"]:has(:hover){
            content-visibility: visible;
            contain-intrinsic-size: initial;
        }

        /* 2022/11/09 fix chrome layout sizing bug for content-visibility: auto (colored comment) */
        /*
        // https://www.youtube.com/watch?v=Ewnt9o7c1vo
        ytd-comment-thread-renderer[style*="--tabview-cmt-height"]:has(#comment[style*="--ytd-comment-paid-background-color"]){
            content-visibility: visible;
        }
        */

        

    }


    /**  ==== for Teaser UI  ===  */

    ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy{
        margin-bottom: 0;
        overflow-y: auto;
    }

    ytd-watch-flexy[flexy] #primary ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy ~ * #info ~ #meta{
        height: auto;
        min-height: 0;
    }

    #owner-and-teaser.style-scope.ytd-watch-metadata {
        margin-right: 0;
        gap: 12px;
    }
    #owner-and-teaser.style-scope.ytd-watch-metadata > #owner.item.style-scope.ytd-watch-metadata,
    #owner-and-teaser.style-scope.ytd-watch-metadata > #comment-teaser.item.style-scope.ytd-watch-metadata{
        margin-top: 2px;
        margin-right: 0;
    }

    @media only screen and (max-width: 1184px) {
                
        #owner-and-teaser.style-scope.ytd-watch-metadata {
            gap: 4px;
        }
    }
 

    /* tabview-no-duplicate-info */


    #description-and-actions.style-scope.ytd-watch-metadata > #description ytd-text-inline-expander:not([tabview-removed-duplicate])
    {
        visibility: collapse;
    }



    .tabview-no-duplicate-info ytd-text-inline-expander #extra-content.style-scope.ytd-watch-metadata,
    .tabview-no-duplicate-info ytd-text-inline-expander:not([is-expanded]) tp-yt-paper-button#collapse,
    .tabview-no-duplicate-info ytd-text-inline-expander [slot="extra-content"].style-scope.ytd-watch-metadata
    {
        display: none;
    }

    /**  ==== for Teaser UI  ===  */



    /**  fix dimensions */
    
    body ytd-watch-flexy[flexy][is-two-columns_][is-four-three-to-sixteen-nine-video_] #primary.ytd-watch-flexy {
        max-width: none;
        /* square video : https://www.youtube.com/watch?v=rEU4CjSQzNY */
    }
    
    #tab-info #description.ytd-video-secondary-info-renderer{
        max-width: none;
    }

    /*
    
    // obsoleted code since 2022.11.07
    ytd-watch-flexy #columns #primary #player{
        background-color: var(--yt-spec-general-background-a); // prevent transparent //
    }
    */

    @supports not (zoom: 0.5) {
        #right-tabs .font-size-btn {
            display: none !important;  /* hide zoom btn for FireFox */
        }
    }

    /*
    // obsoleted code since 2022.11.07
    #player-theater-container{
        z-index:1; // fix meta bar overlap //
    }
    */


    /* 9342 */

    /*9361*/

    ytd-watch-flexy[flexy][is-two-columns_] #tab-info ytd-rich-metadata-renderer:not([fixie]){
        max-width: none; /* fix game content box width */
    }

    #tab-list ytd-playlist-panel-renderer:not([hide-header-text]):not([collapsed]):not([has-toolbar]) #header-contents.ytd-playlist-panel-renderer{
        margin-bottom: 0;
    }

    /* fix teaser UI overflow */
    ytd-watch-flexy[flexy] #primary ytd-watch-metadata #bottom-row.style-scope.ytd-watch-metadata{
        max-width: 100%;
    }

    @supports (opacity:0.137) {

        /* experimental css - teaser ui */
        /* visible if tab-info is with no content */
        ytd-watch-flexy[flexy] #primary ytd-watch-metadata ytd-text-inline-expander#description-inline-expander #formatted-snippet-text > span.bold[style-target="bold"] + span[style*="color: "]:not([style-target="bold"]):not(.bold){
            visibility: hidden;
            max-height: 0;
            display: inline-block;
        }
        ytd-watch-flexy[flexy] #primary ytd-watch-metadata ytd-text-inline-expander#description-inline-expander #formatted-snippet-text > span.bold[style-target="bold"] + span[style*="color: "]:not([style-target="bold"]):not(.bold) ~ .yt-simple-endpoint.style-scope.yt-formatted-string{
            visibility: hidden;
            max-height: 0;
            display: inline-block;
        }
        ytd-watch-flexy[flexy] #primary ytd-watch-metadata ytd-text-inline-expander#description-inline-expander #snippet.style-scope.ytd-text-inline-expander + tp-yt-paper-button#expand[style*="left: "]{
            visibility: hidden;
            max-height: 0;
            display: inline-block;
        }
        ytd-watch-flexy[flexy] #primary ytd-watch-metadata ytd-text-inline-expander#description-inline-expander #snippet.style-scope.ytd-text-inline-expander > #snippet-text + #ellipsis ~ * {
            visibility: hidden;
            max-height: 0;
            display: inline-block;
        }
        ytd-watch-flexy[flexy] #primary ytd-watch-metadata ytd-text-inline-expander#description-inline-expander #snippet.style-scope.ytd-text-inline-expander {
            white-space: nowrap;
            color: var(--yt-spec-text-secondary);
            font-weight: 400;
        }

    }

    
    .ytp-progress-bar[tabindex][role="slider"] > .ytp-scrubber-container[style]{
        transition-delay: 10ms;
    }

    .ytp-tooltip.ytp-bottom.ytp-preview[style*="top"][style*="left"]:not([style*="display"]){
        transition-delay: 12ms;
    }

    .ytp-tooltip.ytp-bottom.ytp-preview[style*="top"][style*="left"]:not([style*="display"]) .ytp-tooltip-text{
        transition-delay: 15ms;
    }

    .ytp-tooltip.ytp-bottom.ytp-preview[style*="top"][style*="left"]:not([style*="display"]) .ytp-tooltip-bg{
        transition-delay: 16ms;
    }

    

    /*  fix Iridium CSS  */

    ytd-watch-flexy[flexy][is-two-columns_][fullscreen] #info .iri-quick-controls-tooltip{
        margin-top: -7rem;
    }

    /* 2022/07/30 #primary-inner > #player + #below */

    ytd-watch-flexy[flexy][is-two-columns_] #primary #primary-inner > #below {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    ytd-watch-flexy[flexy][fullscreen] ytd-live-chat-frame,  ytd-watch-flexy[flexy][fullscreen] #right-tabs .tab-content {
        content-visibility: auto;
    }



    ytd-watch-flexy div#scroll-container.style-scope.yt-chip-cloud-renderer {
        user-select: none !important;
    }
    
    
    /* 2022.08.09 for https://greasyfork.org/scripts/373005-super-fast-youtube-to-mp3-converter-online-video-downloader */

    #meta-contents #subscribe-button.ytd-video-secondary-info-renderer > #punisher{
        z-index: 0;
    }

    /* 9362*/

    /* 9381 */

    body #subscribe-button.ytd-video-secondary-info-renderer{
        flex-direction: row;
        align-items: center;
    }

    #subscribe-button.ytd-video-secondary-info-renderer > span#punisher > a[href*="https://convert2mp3s.com/api/widgetv2?url="] {
        font-size: 1px !important;
        color: transparent !important;
        width: 24px !important;
        height: 24px !important;
        box-sizing: border-box;
        padding: 0 !important;
        display: inline-block;
        background-color: var(--yt-spec-icon-inactive, #00ff00) !important;
        --mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAQMAAADaua+7AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAADJJREFUCNdjYJBgIBrzSBgw8EkUMLBLPGBgnnmAgfF2AwPDf6BcHRDbgNXAAf//DyAMAEDqC3cE7mZwAAAAAElFTkSuQmCC);
        mask-image: var(--mask-image);
        -webkit-mask-image: var(--mask-image);
        background-size: contain;
        transform: scale(0.8);
        transform-origin: center center;
        user-select: none !important;
        opacity:0.8;
    }


    #subscribe-button.ytd-video-secondary-info-renderer > span#punisher {
        padding: 2px !important;
        margin-top: 0 !important;
        background-color: transparent !important;
     }


     /* 2022.08.18 livechat reply disable */

     /*
     ytd-watch-flexy[tabview-livechat-msg]{
         --tabview-livechat-show-hide-button-display: none;
     }
     */

     ytd-watch-flexy:not(.tv-chat-toggleable) ytd-live-chat-frame#chat > #show-hide-button{
         display: none;
     }
     
     /*  2022/10/27 ; ytd-channel-name z-index:0 for scrolling not to overlay video */
     #player ~ #below ytd-watch-metadata #upload-info.ytd-video-owner-renderer > ytd-channel-name.ytd-video-owner-renderer{
         z-index: 0;
     }

    /* 9382 */

    



     /* 2022/11/06 - one-line tips */

     ytd-comment-action-buttons-renderer  #toolbar #tooltip.style-scope.tp-yt-paper-tooltip,
     [action-buttons-style="desktop-toolbar"] #toolbar #tooltip.style-scope.tp-yt-paper-tooltip
     {
        word-wrap: none;
        white-space: nowrap;
        word-break: keep-all;
     }

     /* 2022/11/06 - margin bug for new layout */

     ytd-watch-flexy[is-two-columns_][theater] > #columns.ytd-watch-flexy {
        margin: 0;
     }

     /* 2022/11/06 - fix round border */

     ytd-live-chat-frame#chat yt-live-chat-app,
     ytd-live-chat-frame#chat yt-live-chat-renderer,
     ytd-live-chat-frame#chat yt-live-chat-header-renderer,
     ytd-live-chat-frame#chat ytd-live-chat-frame#chat,
     ytd-live-chat-frame#chat iframe#chatframe,
     body ytd-live-chat-frame[rounded-container] #show-hide-button.ytd-live-chat-frame *
     {
        border:0;
        border-radius: 0;
     }
     
     body ytd-live-chat-frame[rounded-container]
     {
        border:0;
        border-radius: 0;
     }

     body ytd-live-chat-frame[rounded-container] #show-hide-button.ytd-live-chat-frame ytd-toggle-button-renderer.ytd-live-chat-frame
     {
        border:0;
        border-radius: 0;
     }
     


     
     /* 2022/11/06 - show hide button background fix */

     ytd-live-chat-frame#chat #show-hide-button.style-scope.ytd-live-chat-frame{
        /*background-color: var(--yt-spec-black-2);*/
        background-color: var(--ytd-searchbox-legacy-button-color);
        color: var(--yt-spec-text-secondary);
     }

     ytd-live-chat-frame#chat #show-hide-button.style-scope.ytd-live-chat-frame yt-button-shape{
        outline: 1px solid var(--yt-spec-10-percent-layer);
     }

     /* 2022/11/07 - chat room border 1px */


     body ytd-live-chat-frame#chat[class]{
        outline:1px solid var(--yt-spec-10-percent-layer);
        margin:1px;
     }




     /* 2022/11/06 - hide new layout repeated info */
     
    @supports (content-visibility: hidden) and selector(#tag.cls:has(>#id:only-child)){
        
        /* Firefox: layout.css.has-selector.enabled = true */

        ytd-watch-metadata.watch-active-metadata.style-scope.ytd-watch-flexy:has(#description-inner:only-child){
            margin-top:3px;
        }

        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child){
            overflow: hidden;
        }

        
        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child) {
            margin-top: 3px;
        }

        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child) 
        > #description-inner.style-scope.ytd-watch-metadata{
            margin: 5px 12px 3px 12px;
        }
        
        ytd-watch-flexy:not([fullscreen]):has(#tab-info ytd-expander 
        #description.ytd-video-secondary-info-renderer > yt-attributed-string.style-scope.ytd-video-secondary-info-renderer ~ yt-formatted-string.style-scope.ytd-video-secondary-info-renderer) 
        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child) > #description-inner.style-scope.ytd-watch-metadata > 
        #info-container.style-scope.ytd-watch-metadata ~
        ytd-text-inline-expander#description-inline-expander.ytd-watch-metadata
        > yt-attributed-string.ytd-text-inline-expander ~ yt-formatted-string.ytd-text-inline-expander{
            content-visibility: hidden;
        }
        
        ytd-watch-flexy:not([fullscreen]):has(#tab-info ytd-expander #description.ytd-video-secondary-info-renderer) 
        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child) > #description-inner.style-scope.ytd-watch-metadata > 
        #info-container.style-scope.ytd-watch-metadata ~
        ytd-text-inline-expander#description-inline-expander.ytd-watch-metadata{
            content-visibility: hidden;
        }
        
        ytd-watch-flexy[fullscreen]:has(#tab-info ytd-expander #description.ytd-video-secondary-info-renderer) 
        #description.style-scope.ytd-watch-metadata:has(>#description-inner:only-child) > #description-inner.style-scope.ytd-watch-metadata > 
        #info-container.style-scope.ytd-watch-metadata ~
        ytd-text-inline-expander#description-inline-expander.ytd-watch-metadata{
            max-height: calc( 100vh - var(--ytd-watch-flexy-masthead-height) - 12em - var(--ytd-margin-6x) );
            overflow: auto;
        }

        /* 2022/11/23 */


        ytd-watch-flexy:not([fullscreen]):has(#tab-info ytd-expander ytd-rich-metadata-renderer.ytd-rich-metadata-row-renderer)
        #primary #below ytd-watch-metadata ytd-rich-metadata-renderer.ytd-rich-metadata-row-renderer {
            content-visibility: hidden;
        }

        ytd-watch-flexy:not([fullscreen]):has(#tab-info ytd-expander ytd-rich-metadata-renderer.ytd-rich-metadata-row-renderer) 
        #primary #below ytd-watch-metadata #contents.ytd-rich-metadata-row-renderer{
            margin-right: 0;
        }

        /* ytd-watch-metadata[clickable-description][description-collapsed] #description.ytd-watch-metadata */
        ytd-watch-metadata[clickable-description] #description.ytd-watch-metadata #info-container[tabview-info-toggler]{
            cursor: pointer;
        }
        
        ytd-watch-metadata[clickable-description] #description.ytd-watch-metadata:has(#info-container[tabview-info-toggler]:hover) {
            background: var(--yt-spec-button-chip-background-hover);
        }


        

    }

    /* 2022/11/24 */
    
    @supports (overflow-x: hidden) and (min-width: max-content){

        /* :hover is done by native CSS; .tabview-uploader-hover is done by scripting; this is "two-factor checking" of DOM hover status to avoid false positive */
        body #primary #below ytd-watch-metadata[modern-metapanel-order]:hover.tabview-uploader-hover{
            overflow-x: hidden;
        }
        body #primary #below ytd-watch-metadata[modern-metapanel-order]:hover.tabview-uploader-hover #owner.ytd-watch-metadata {
            min-width: max-content;
        }

    }

     /* 2022/11/06 - fix empty clarify box */
     
     #primary.style-scope.ytd-watch-flexy #clarify-box.style-scope.ytd-watch-flexy:empty{
        display: none;
    }

     /* 2022/11/07 - adjust spacing */
     /*
     #primary.style-scope.ytd-watch-flexy #super-title.style-scope.ytd-watch-metadata[is-empty]:not(.use-shadow) + h1.style-scope.ytd-watch-metadata{
        margin-top:8px;        
    }*/
    
    #primary.style-scope.ytd-watch-flexy #super-title.style-scope.ytd-watch-metadata[is-empty]:not(.use-shadow) + h1.style-scope.ytd-watch-metadata{
        margin-top:0px;        
    }
    #primary.style-scope.ytd-watch-flexy #super-title.style-scope.ytd-watch-metadata[is-empty]:not(.use-shadow) + h1.style-scope.ytd-watch-metadata{
        margin-top:2px;        
    }

    ytd-watch-flexy[flexy][is-two-columns_] #primary-inner #player~#below.style-scope.ytd-watch-flexy{
        overflow-y: auto; /* note: overlapped the tooltips */
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
        margin-top: 6px;
    }
    #primary-inner #player~#below.style-scope.ytd-watch-flexy::-webkit-scrollbar {
        display: none;
    }

     
    /* 2022/11/06 - adjust width for new layout (modern-metapanel)
    YouTube Bug: Darker Dark Mode forgot to consider Japanese Layout Issue
    */
    
    body #primary #below ytd-watch-metadata[modern-metapanel-order] #owner.ytd-watch-metadata {
        min-width: calc(60% - 6px);
        transition: min-width 200ms;
    }
    body #primary #below ytd-watch-metadata[modern-metapanel-order] #actions.ytd-watch-metadata {
        min-width: calc(40% - 6px);
        max-width: calc(40% - 6px);
        /*transition: transform 200ms;*/
    }

    /* 2022/11/07 - playlist no round radius */
    body ytd-playlist-panel-renderer[modern-panels]:not([within-miniplayer]) #container.ytd-playlist-panel-renderer{
        border-radius: 0;
    }

    /* 2022/11/07 - specific fix for YouTubeLiveClock - chrome only */
    html:has(style#ytlctn-style-for-native-control) #columns #player::after{
        content: "";
        background-color: transparent;
        border-color: transparent;
        color:transparent;
        box-sizing: border-box;
        border-style: dotted;
        display: flex;
        height:0px;
        margin:0;
        border:0;
        margin-top:51px;
        width: calc( 100% - 4px );
        position: relative;
        pointer-events: none;
    }
    /*
    html:has(style#ytlctn-style-for-native-control) #player-theater-container > #player-container.ytd-watch-flexy > #ytd-player::after{
        content: "";
        background-color: transparent;
        border-color: transparent;
        color:transparent;
        box-sizing: border-box;
        border-style: dotted;
        display: flex;
        height:0px;
        margin:0;
        border:0;
        margin-top:51px;
        width: calc( 100% - 4px );
        position: relative;
        pointer-events: none;
    }*/

    html:has(style#ytlctn-style-for-native-control) #columns #below{
        transform: initial;
    }
    
    html:has(style#ytlctn-style-for-native-control) ytd-watch-flexy[flexy][is-two-columns_][theater] #columns{
        margin-top:51px;
    }

    html:has(style#ytlctn-style-for-native-control) ytd-watch-flexy[flexy][is-two-columns_][theater]:not([fullscreen]) #columns #secondary #secondary-inner > *{
        transform: initial;
    }


    /* 2022/11/07 - fix comment emoji box size */

    ytd-watch-flexy[flexy][is-two-columns_] #right-tabs #emojis.ytd-commentbox {
        max-width: calc(var(--ytd-watch-flexy-sidebar-width) - var(--ytd-margin-8x) * 5);
    }

    ytd-watch-flexy[flexy][is-two-columns_] #right-tabs #emojis.ytd-commentbox yt-emoji-picker-renderer.style-scope.ytd-commentbox#emoji{
        min-height: calc(60vh - var(--userscript-h-tab-btn) - var(--ytd-margin-6x) * 2 - var(--userscript-top-bar-height));
    }

    
    /* 2022/11/07 - integrate with cinematics background */
    ytd-watch-flexy[flexy][is-two-columns_] #right-tabs > header {
        background:transparent;
    }
    


    /* 2022/11/09 - cinematic background integration */
    
    
    body .playlist-items.ytd-playlist-panel-renderer{
        background-color: initial; /* remove YouTube default background background */
    }

    ytd-watch-flexy[cinematics-enabled] #right-tabs{
        --tabview-tab-container-background: rgba(255,255,255,0.04);
    }


    .tab-content-cld{
        background-color: var(--tabview-tab-container-background);
    }

    /* remove YouTube constant will-change */
    body .yt-spec-touch-feedback-shape__fill, body .yt-spec-touch-feedback-shape__stroke, body tp-yt-iron-list, body #items.tp-yt-iron-list>*, body #onRadio.tp-yt-paper-radio-button, body .toggle-button.tp-yt-paper-toggle-button, body .fill.yt-interaction, body .stroke.yt-interaction, body #items.ytd-post-multi-image-renderer, body #items.ytd-horizontal-card-list-renderer, body #items.yt-horizontal-list-renderer,
    body #left-arrow.yt-horizontal-list-renderer, body #right-arrow.yt-horizontal-list-renderer, body #items.ytd-video-description-music-section-renderer, body #chips.yt-chip-cloud-renderer, body #items.ytd-merch-shelf-renderer, body #items.ytd-product-details-image-carousel-renderer,
    body #chips.ytd-feed-filter-chip-bar-renderer, ytd-miniplayer[enabled] {
        will-change: auto; /* constant value will slow down the performance; default auto */
    }

    ytd-watch-flexy[cinematics-enabled] .header.ytd-playlist-panel-renderer{
        background-color: rgba(32.5, 32.5,32.5, 0.875);
    }

    ytd-watch-flexy[cinematics-enabled] yt-chip-cloud-renderer.yt-related-chip-cloud-renderer[darker-dark-theme][is-dark-theme] #container.style-scope.yt-chip-cloud-renderer{


        background: var(--yt-spec-raised-background);
        border-radius: 12px;
        padding:0px 8px;
        --yt-spec-base-background: var(--yt-spec-raised-background);
        opacity:0.8;

    }
    
    ytd-watch-flexy[cinematics-enabled] yt-chip-cloud-renderer.yt-related-chip-cloud-renderer[darker-dark-theme][is-dark-theme]  #container.style-scope.yt-chip-cloud-renderer #left-arrow,
    ytd-watch-flexy[cinematics-enabled] yt-chip-cloud-renderer.yt-related-chip-cloud-renderer[darker-dark-theme][is-dark-theme] #container.style-scope.yt-chip-cloud-renderer #right-arrow{

            opacity:0.9;
    }

    /* 2022/11/09 added coloring css to make the super title looks better */

    html[darker-dark-theme][dark] #title.style-scope.ytd-watch-metadata{
        --yt-spec-call-to-action-clone: var(--yt-spec-call-to-action);
    }

    html[darker-dark-theme][dark] #super-title.style-scope.ytd-watch-metadata{
        /*
        --yt-spec-call-to-action: var(--yt-live-interactivity-component-background-color);
        */
        --yt-spec-call-to-action: var(--yt-live-chat-tertiary-text-color);
    }
    
    html[darker-dark-theme][dark] #super-title.style-scope.ytd-watch-metadata a:hover{
        /*
        --yt-spec-call-to-action: var(--yt-spec-call-to-action-clone);*/
        --yt-spec-call-to-action: var(--yt-spec-mono-filled-hover);
        
    }

     body ytd-message-renderer{
        padding: 8px 16px; /* inline with button size */
     }


     /* 2022/11/11 video ratio 0.418945 */
     /*

     380px; 0.418945

     https://www.youtube.com/watch?v=E_0AOHXcw_8
         CHANMINA - Don't go (feat. ASH ISLAND) (Official Music Video) - - YouTube

         
     380px; 0.46

        https://www.youtube.com/watch?v=yK2Cdi6R43c
         涙することは疎か、息も出来ない。 / HACHI 【Official MV】 - YouTube

        */

        /* 
        // 2022/11/12 Layout Bug Fixed By YouTube
        
            ytd-watch-flexy {
                --tabview-widescreen-primary-ml: '-NULL-';
                --tabview-widescreen-primary-mr: '-NULL-';
                --tabview-widescreen-primary-pl: '-NULL-';
                --tabview-widescreen-primary-pr: '-NULL-';
            }

            ytd-watch-flexy[style*="-max-height:"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) {
                --tabview-widescreen-primary-ml: var(--ytd-margin-5x);
                --tabview-widescreen-primary-mr: var(--ytd-margin-5x);
                --tabview-widescreen-primary-pl: 0;
                --tabview-widescreen-primary-pr: 0;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) button.yt-spec-button-shape-next--icon-only-default {
                width: 24px;
                height: 24px;
                --yt-icon-button-icon-width: 16px;
                --yt-icon-button-icon-height: 16px;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) .top-level-buttons.style-scope.ytd-menu-renderer [class*="yt"] {
                align-items: center;
                display: flex;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) .top-level-buttons.style-scope.ytd-menu-renderer .yt-spec-button-shape-next__icon {
                width: auto;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) button.yt-spec-button-shape-next--icon-only-default yt-icon {
                width: 16px !important;
                height: 16px !important;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) ytd-menu-renderer .ytd-menu-renderer[style-target="button"] {
                --yt-icon-width: 24px;
                --yt-icon-height: 24px;
                --yt-icon-button-icon-width: 16px;
                --yt-icon-button-icon-height: 16px;
            }

            ytd-watch-flexy[style*="-max-height:380px"][style*="--ytd-watch-flexy-height-ratio:0.4"][is-two-columns_]:not([theater]):not([fullscreen]) ytd-comments#comments.style-scope.ytd-watch-flexy ytd-comments-header-renderer.ytd-item-section-renderer>#title.style-scope.ytd-comments-header-renderer>#count {
                margin-right: 16px;
            }

            */

            /* fix button size due to transform:scale*/
            /* kept as default setting */
            #left-arrow.yt-chip-cloud-renderer .yt-spec-button-shape-next__icon,
            #right-arrow.yt-chip-cloud-renderer .yt-spec-button-shape-next__icon {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            


     /* 2022/11/11 comments colored background padding fix */
     
    ytd-watch-flexy #right-tabs #tab-comments.tab-content-cld{
        --tab-content-padding: var(--ytd-margin-2x);
    }

    ytd-watch-flexy #right-tabs #tab-comments.tab-content-cld ytd-item-section-renderer#sections.style-scope.ytd-comments{
        --tab-content-padding-2: var(--ytd-margin-2x);
        padding: var(--tab-content-padding-2);
    }



/*
    .tabview-txt{
        --tabview-txt-display: none;
        display:var(--tabview-txt-display);
    }
    [is-empty]+.tabview-txt{
        --tabview-txt-display:'-NULL-';
    }
    */


    /* ---- v3.7.0 ---- */
    /* 2022/11/21 css fix wide layout */

    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]) #secondary.ytd-watch-flexy.tabview-hover-sider > div#secondary-inner {

        min-width: var(--ytd-watch-flexy-sidebar-min-width);

        transition: transform 0.13s ease-out, min-width 1ms, background-color 250ms linear, outline 250ms linear;
        transition-delay: 48ms, 192ms, 192ms, 4ms;
        
        transform:translateX(0px);
        background-color: rgba(0,0,0,0.0);
        outline:0px solid var(--ytd-searchbox-background);

    }

    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]) #secondary.ytd-watch-flexy.tabview-hover-sider:hover > div#secondary-inner,
    ytd-watch-flexy[flexy][is-two-columns_]:not([theater]) #secondary.ytd-watch-flexy.tabview-hover-sider > div#secondary-inner:hover {
        /* two layout are different in size and location */

        min-width: var(--ytd-watch-flexy-sidebar-width);
        --tabview-sider-offset2: calc( var(--tabview-sider-offset) - var(--tabview-sider-basewidth) + var(--ytd-watch-flexy-sidebar-width) );
        transform:translateX(calc(-1*var(--tabview-sider-offset2) ));
        background-color: var(--yt-spec-base-background);
        /*min-width: var(--ytd-watch-flexy-sidebar-width);*/
        transition: min-width 1ms, transform 0.13s ease-out, outline 250ms linear;
        transition-delay: 48ms, 192ms, 4ms;
        outline:8px solid var(--ytd-searchbox-background);

    }
    

/* 
    ytd-watch-flexy[flexy][is-two-columns_] #secondary.ytd-watch-flexy::before {

        display: block;
        content: "";
        position: absolute;
        width: var(--ytd-watch-flexy-sidebar-width);
        height: 100vh;
        top: 0px;
        /-*right: var(--tabview-sider-offset);*-/
        right: calc( 0.5*var(--ytd-watch-flexy-sidebar-width) );
        /-*right:0px;*-/
        /-*transform: translate(0px, 0px);*-/

        transform: scaleX(0%);

        transform-origin: center right;
        background: rgba(120,0,0,0.5);
        z-index: 0;
        
        transition: all 0.2s ease-out;
        transition-delay: 0.15s;
    }
    
    ytd-watch-flexy[flexy][is-two-columns_] #secondary.ytd-watch-flexy:hover::before {

        right: var(--tabview-sider-right);
        transform: scaleX(100%);
        transition-delay: 0.01s;
        
    }

    ytd-watch-flexy[cinematics-enabled] #secondary.ytd-watch-flexy.tabview-hover-sider{
        position: static;
    }  */
/*     

necessary; otherwise background issue occurs for transcript panel background  (panel button)
    body ytd-watch-flexy[cinematics-enabled] #secondary.ytd-watch-flexy{
        position: static; /-* not necessary as the cinematics is inside primary not secondary. *-/
    }  */

    body ytd-watch-flexy[flexy][is-two-columns_][theater] #columns.ytd-watch-flexy{
        min-width: 0; /* avoid very wide video make the column sketch > 100vw under theater mode */
    }

    #tab-info .less-button.style-scope.ytd-video-secondary-info-renderer[role="button"]{
        display:none;
    }

    @supports (selector(:has(:hover))) {

        
        #tab-info #video-lockups > #left-arrow-container.style-scope.arrow-container {

            --tabview-left-arrow-opacity:'-NULL-';
            opacity:var(--tabview-left-arrow-opacity);
            transition:opacity 130ms;

        }


        #tab-info #video-lockups:has(#right-arrow-container:hover) > #left-arrow-container.style-scope.arrow-container {

            --tabview-left-arrow-opacity:0.23;

        }

        #tab-info #video-lockups > #right-arrow-container.style-scope.arrow-container {

            --tabview-right-arrow-opacity:'-NULL-';
            opacity:var(--tabview-right-arrow-opacity);
            transition:opacity 130ms;

        }


        #tab-info #video-lockups:has(#left-arrow-container:hover) > #right-arrow-container.style-scope.arrow-container {

            --tabview-right-arrow-opacity:0.23;

        }

       
    }


    /* added in 2022/11/24 */

    html:has(body){
        --tabview-has-selector-enabled: 1;
    }

    /* parent container */
    #primary #below ytd-video-owner-renderer.style-scope.ytd-watch-metadata{
        background-position-y: 0px; /* no background */
        transition: background-position-y 50ms; /* detection of hover - mouseleave */
        transition-delay: 1ms; /* ensure effect is stably executed */
    }
    #primary #below ytd-video-owner-renderer.style-scope.ytd-watch-metadata:hover{
        background-position-y: 1px; /* no background */
        transition-duration: 10ms; /* detection of hover - mouseenter */
        /*transition-delay: 1ms;*/
    }

    /* sub elements */
    #primary #below #upload-info, 
    #primary #below #owner a.yt-simple-endpoint.style-scope.ytd-video-owner-renderer[href]{
        background-position-x: 0px; /* no background */
        transition: background-position-x 40ms; /* detection of hover - mouseleave */
        transition-delay: 1ms; /* not counted in elapsedTime; just time delay allowing cursor moving between channel icon and channel text */
    }
    #primary #below #upload-info:hover, 
    #primary #below #owner a.yt-simple-endpoint.style-scope.ytd-video-owner-renderer[href]:hover{
        background-position-x: 1px; /* no background */
        transition-duration: 20ms; /* detection of hover - mouseenter */
        /*transition-delay: 1ms;*/
    }

    

    